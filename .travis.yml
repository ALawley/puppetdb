language: clojure
dist: trusty

# Always explicitly set sudo.  Otherwise travis' defaults may vary
# based on when the repository testing was enabled.
sudo: required

jdk:
  - openjdk8
  - oraclejdk8

env:
  - PDB_TEST_LANG=ruby
  - PDB_TEST_LANG=clojure

# Only run one ruby test
matrix:
  exclude:
    - jdk: oraclejdk8
      env: PDB_TEST_LANG=ruby

script: ext/travisci/test.sh

notifications:
  email: false

addons:
  postgresql: "9.4"

services: postgresql
